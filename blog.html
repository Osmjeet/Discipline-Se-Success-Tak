<!doctype html>
<html lang="hi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Blogs ‚Äî Jeet S Singh (Author of Discipline Se Success Tak)</title>
  <meta name="description" content="Read inspiring blogs by Jeet S Singh, Author of 'Discipline Se Success Tak'. Learn about discipline, success, motivation and daily habits." />
  <link rel="canonical" href="https://discipline-se-success-tak.vercel.app/blog.html" />

  <style>
    :root{
      --bg:#f7fbfa; --card:#ffffff; --accent:#0bb39a; --dark:#06493f; --muted:#445b56;
      --maxw:1100px; --radius:12px;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:#0b2b27;line-height:1.7}
    nav{background:var(--dark);padding:12px 16px}
    nav .menu{max-width:var(--maxw);margin:auto;display:flex;gap:18px;align-items:center}
    nav a{color:#fff;text-decoration:none;font-weight:700}
    .wrap{max-width:var(--maxw);margin:26px auto;padding:0 16px}
    h1{color:var(--dark);text-align:center;margin-bottom:18px}
    .top-note{max-width:var(--maxw);margin:8px auto 22px;padding:12px;background:linear-gradient(90deg,rgba(11,179,150,0.06),rgba(7,138,114,0.02));border-radius:10px;color:var(--dark);font-weight:700;text-align:center}
    /* Previews */
    #posts-preview{display:grid;grid-template-columns:repeat(2,1fr);gap:16px}
    @media(max-width:880px){#posts-preview{grid-template-columns:1fr}}
    .preview{background:var(--card);padding:16px;border-radius:10px;box-shadow:0 8px 26px rgba(6,18,16,0.05)}
    .preview h2{margin:0 0 8px;color:var(--dark);font-size:18px}
    .preview p{margin:0 0 10px;color:var(--muted)}
    .read-more{color:var(--accent);text-decoration:none;font-weight:800}
    .read-more:hover{text-decoration:underline}
    hr.sep{border:0;border-top:1px solid #e6f2ef;margin:26px 0}
    /* Full posts */
    .blog-full{margin-bottom:34px;padding:22px;background:var(--card);border-radius:12px;box-shadow:0 10px 30px rgba(6,18,16,0.04)}
    .blog-full h2{color:var(--dark);margin-top:0}
    .blog-full h3{color:#0a4b42}
    .author-note{margin-top:18px;padding-top:12px;border-top:1px solid #eef6f4;color:var(--dark);font-weight:700}
    /* small */
    .muted{color:var(--muted);font-size:0.95rem}
    .error{color:#c33;padding:12px;background:#fff0f0;border-radius:8px}
    footer{margin:36px 0;text-align:center;color:#6a726f}
  </style>
</head>
<body>
  <!-- Navigation -->
  <nav>
    <div class="menu" role="navigation" aria-label="main">
      <a href="index.html">üè† Home</a>
      <a href="author.html">üë§ Author</a>
      <a href="blog.html">üìù Blogs</a>
    </div>
  </nav>

  <div class="wrap">
    <h1>üìñ Blogs by Jeet S Singh</h1>
    <div class="top-note">Latest: Practical, short and actionable posts to build discipline and achieve results. Read sample chapters and the book on Amazon.</div>

    <!-- Previews injected here -->
    <div id="posts-preview" aria-live="polite"></div>

    <hr class="sep">

    <!-- Full posts injected here -->
    <main id="posts-full" aria-live="polite"></main>

    <div id="loader-note" class="muted" style="margin-top:18px;">Loading posts‚Ä¶</div>

    <footer>
      ¬© 2025 Jeet S Singh ‚Äî Discipline ‚Ä¢ Faith ‚Ä¢ Success
    </footer>
  </div>

  <!-- Loader script: reads /posts.json and injects fragments from /posts/*.html -->
  <script>
  (async function(){
    const previewEl = document.getElementById('posts-preview');
    const fullEl = document.getElementById('posts-full');
    const loaderNote = document.getElementById('loader-note');

    function showError(msg){
      loaderNote.innerHTML = '';
      const e = document.createElement('div');
      e.className = 'error';
      e.textContent = msg;
      fullEl.parentNode.insertBefore(e, fullEl);
      console.error(msg);
    }

    // fetch posts.json
    let resp;
    try {
      resp = await fetch('/posts.json', {cache:'no-store'});
    } catch(err){
      showError('Error fetching posts.json. Check that posts.json exists at repo root and site is deployed.');
      return;
    }
    if(!resp.ok){
      showError('posts.json not found (404). Place posts.json in site root with correct path entries.');
      return;
    }

    let posts;
    try {
      posts = await resp.json();
    } catch(err){
      showError('posts.json parse error ‚Äî ensure valid JSON.');
      return;
    }

    if(!Array.isArray(posts) || posts.length===0){
      showError('posts.json is empty or invalid ‚Äî add entries for each blog.');
      return;
    }

    // render preview cards
    for(const p of posts){
      const card = document.createElement('article');
      card.className = 'preview';
      const title = document.createElement('h2');
      title.innerText = p.title || 'Untitled';
      const pr = document.createElement('p');
      pr.className = 'muted';
      pr.innerText = p.preview || '';
      const a = document.createElement('a');
      a.className = 'read-more';
      a.href = `#${p.id || p.file.replace(/[^a-z0-9]/gi,'')}`;
      a.innerText = 'Read More ‚Üí';
      card.appendChild(title);
      card.appendChild(pr);
      card.appendChild(a);
      previewEl.appendChild(card);
    }

    // fetch and inject fragments (in order)
    for(const p of posts){
      try {
        const r = await fetch(p.file, {cache:'no-store'});
        if(!r.ok){
          console.warn('Failed to fetch', p.file);
          const warn = document.createElement('div');
          warn.className = 'error';
          warn.textContent = `Could not load ${p.file} (check path).`;
          fullEl.appendChild(warn);
          continue;
        }
        const html = await r.text();

        // Create wrapper section with id (for anchor)
        const sec = document.createElement('section');
        // determine id: use p.id if present else derive from filename
        const safeId = p.id ? String(p.id) : String(p.file).replace(/[^a-z0-9]/gi,'');
        sec.id = safeId;
        sec.className = 'blog-full';
        // Insert the fragment HTML as innerHTML (these fragments must be safe and authored by you)
        sec.innerHTML = html;
        fullEl.appendChild(sec);
      } catch(e){
        console.error('Error loading fragment', p.file, e);
        const warn = document.createElement('div');
        warn.className = 'error';
        warn.textContent = `Error loading ${p.file}`;
        fullEl.appendChild(warn);
      }
    }

    // remove loader
    loaderNote.style.display = 'none';

    // Smooth scrolling for anchor links to internal ids
    document.querySelectorAll('a[href^="#"]').forEach(a=>{
      a.addEventListener('click', function(e){
        const hash = this.getAttribute('href');
        const target = document.querySelector(hash);
        if(target){
          e.preventDefault();
          target.scrollIntoView({behavior:'smooth', block:'start'});
          history.replaceState(null,'',hash);
        }
      });
    });

    // optional: highlight preview when scrolled into view
    const previews = Array.from(document.querySelectorAll('.preview'));
    window.addEventListener('hashchange', ()=>{
      const id = location.hash.slice(1);
      if(!id) return;
      const idx = posts.findIndex(p => String(p.id) === id || String(p.file).includes(id));
      if(idx>=0 && previews[idx]) {
        previews[idx].style.boxShadow = '0 12px 30px rgba(11,179,150,0.08)';
        setTimeout(()=> previews[idx].style.boxShadow = '', 2200);
      }
    });

  })();
  </script>
</body>
</html>
